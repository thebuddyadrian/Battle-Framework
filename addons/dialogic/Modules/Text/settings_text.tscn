[gd_scene format=3 uid="uid://cf3qks3v18xmr"]

[ext_resource type="Script" uid="uid://dg6gijwuhaxp5" path="res://addons/dialogic/Modules/Text/settings_text.gd" id="2"]
[ext_resource type="PackedScene" uid="uid://dpwhshre1n4t6" path="res://addons/dialogic/Editor/Events/Fields/field_options_dynamic.tscn" id="3"]
[ext_resource type="PackedScene" uid="uid://dbpkta2tjsqim" path="res://addons/dialogic/Editor/Common/hint_tooltip_icon.tscn" id="3_s7xhj"]

[node name="DialogText" type="VBoxContainer" unique_id=538797099]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_bottom = -156.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("2")

[node name="VBoxContainer" type="VBoxContainer" parent="." unique_id=519991164]
layout_mode = 2
size_flags_horizontal = 3

[node name="Title3" type="Label" parent="VBoxContainer" unique_id=1217168351]
layout_mode = 2
theme_type_variation = &"DialogicSettingsSection"
text = "Behaviour"

[node name="VBox" type="GridContainer" parent="VBoxContainer" unique_id=862352810]
layout_mode = 2
columns = 2

[node name="DefaultSpeedLabel" type="HBoxContainer" parent="VBoxContainer/VBox" unique_id=662490049]
layout_mode = 2

[node name="Label" type="Label" parent="VBoxContainer/VBox/DefaultSpeedLabel" unique_id=1326367195]
layout_mode = 2
text = "Default letter speed"

[node name="HintTooltip2" parent="VBoxContainer/VBox/DefaultSpeedLabel" unique_id=1205850572 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "The speed in seconds per character. A speed of 0 will reveal the full text instantly (still taking pauses into consideration)."
texture = null
hint_text = "The speed in seconds per character. A speed of 0 will reveal the full text instantly (still taking pauses into consideration)."

[node name="DefaultSpeed" type="SpinBox" parent="VBoxContainer/VBox" unique_id=1781370038]
unique_name_in_owner = true
layout_mode = 2
step = 0.001

[node name="InputActionLabel" type="HBoxContainer" parent="VBoxContainer/VBox" unique_id=326941380]
layout_mode = 2

[node name="Label2" type="Label" parent="VBoxContainer/VBox/InputActionLabel" unique_id=691828385]
layout_mode = 2
text = "Input action"

[node name="HintTooltip3" parent="VBoxContainer/VBox/InputActionLabel" unique_id=2032102862 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "The action that skips text and generally advances to the next event.
You can modify actions in the Project Settings > Input Map."
texture = null
hint_text = "The action that skips text and generally advances to the next event.
You can modify actions in the Project Settings > Input Map."

[node name="InputAction" parent="VBoxContainer/VBox" unique_id=727451599 instance=ExtResource("3")]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/VBox" unique_id=268873851]
layout_mode = 2

[node name="Label3" type="Label" parent="VBoxContainer/VBox/HBoxContainer" unique_id=399969093]
layout_mode = 2
text = "Text Reveal Skippable"

[node name="HintTooltip4" parent="VBoxContainer/VBox/HBoxContainer" unique_id=1389121431 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "If enabled the revealing of text can be skipped with the input action.
If disabled you can only advance to the next event when revealing has finnished."
texture = null
hint_text = "If enabled the revealing of text can be skipped with the input action.
If disabled you can only advance to the next event when revealing has finnished."

[node name="Skippable" type="HBoxContainer" parent="VBoxContainer/VBox" unique_id=1301593144]
layout_mode = 2

[node name="Skippable" type="CheckBox" parent="VBoxContainer/VBox/Skippable" unique_id=1583966234]
unique_name_in_owner = true
layout_mode = 2

[node name="HBoxContainer2" type="HBoxContainer" parent="VBoxContainer/VBox/Skippable" unique_id=768015500]
layout_mode = 2

[node name="Label3" type="Label" parent="VBoxContainer/VBox/Skippable/HBoxContainer2" unique_id=2122885279]
layout_mode = 2
text = "Skip Delay:"

[node name="HintTooltip4" parent="VBoxContainer/VBox/Skippable/HBoxContainer2" unique_id=858963343 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "Delay before you can skip. 

Use this to prevent users from skipping through your timeline to quickly."
texture = null
hint_text = "Delay before you can skip. 

Use this to prevent users from skipping through your timeline too quickly."

[node name="SkippableDelay" type="SpinBox" parent="VBoxContainer/VBox/Skippable/HBoxContainer2" unique_id=1457966386]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
step = 0.01
suffix = "s"

[node name="HBoxContainer3" type="HBoxContainer" parent="VBoxContainer/VBox/Skippable" unique_id=635402756]
layout_mode = 2

[node name="Label3" type="Label" parent="VBoxContainer/VBox/Skippable/HBoxContainer3" unique_id=1894621369]
layout_mode = 2
text = "Advance Delay:"

[node name="HintTooltip4" parent="VBoxContainer/VBox/Skippable/HBoxContainer3" unique_id=1716605236 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "Delay before you can advance (if the text finishes revealing on its own). 

This is used to prevent players from advancing when they actually wanted to skip the revealing, but did so very shortly after the text was already fully revealed."
texture = null
hint_text = "Delay before you can advance (only if the text finishes revealing on its own). 

This is used to prevent players from advancing when they actually wanted to skip the revealing, but did so very shortly after the text was already fully revealed."

[node name="AdvanceDelay" type="SpinBox" parent="VBoxContainer/VBox/Skippable/HBoxContainer3" unique_id=1953683563]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
step = 0.01
suffix = "s"

[node name="ColorNames" type="HBoxContainer" parent="VBoxContainer/VBox" unique_id=1211936571]
layout_mode = 2

[node name="Label4" type="Label" parent="VBoxContainer/VBox/ColorNames" unique_id=1290677437]
layout_mode = 2
text = "Autocolor names"

[node name="HintTooltip5" parent="VBoxContainer/VBox/ColorNames" unique_id=1100519846 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "If enabled character names will be colored in the characters color in text events."
texture = null
hint_text = "If enabled character names will be colored in the characters color in text events."

[node name="AutocolorNames" type="CheckBox" parent="VBoxContainer/VBox" unique_id=807210752]
unique_name_in_owner = true
layout_mode = 2

[node name="HBoxContainer3" type="HBoxContainer" parent="VBoxContainer/VBox" unique_id=1454488440]
layout_mode = 2

[node name="Label5" type="Label" parent="VBoxContainer/VBox/HBoxContainer3" unique_id=2058316529]
layout_mode = 2
text = "New lines as new events"

[node name="HintTooltip7" parent="VBoxContainer/VBox/HBoxContainer3" unique_id=1629928628 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "If enabled dialogic, new lines will be treated as [n] effects,
seemingly waiting for input before starting a new text."
texture = null
hint_text = "If enabled dialogic, new lines will be treated as [n] effects,
seemingly waiting for input before starting a new text."

[node name="HBoxContainer4" type="HBoxContainer" parent="VBoxContainer/VBox" unique_id=576246598]
layout_mode = 2

[node name="NewEvents" type="CheckBox" parent="VBoxContainer/VBox/HBoxContainer4" unique_id=2012827457]
unique_name_in_owner = true
layout_mode = 2

[node name="NewEventOption" type="OptionButton" parent="VBoxContainer/VBox/HBoxContainer4" unique_id=212811984]
unique_name_in_owner = true
layout_mode = 2
selected = 0
fit_to_longest_item = false
item_count = 2
popup/item_0/text = "As new event"
popup/item_0/id = 0
popup/item_1/text = "Appended"
popup/item_1/id = 1

[node name="HSeparator" type="HSeparator" parent="VBoxContainer" unique_id=1568694070]
layout_mode = 2

[node name="HBoxContainer AutoAdvance" type="HBoxContainer" parent="VBoxContainer" unique_id=345081053]
layout_mode = 2

[node name="Title" type="Label" parent="VBoxContainer/HBoxContainer AutoAdvance" unique_id=842153535]
layout_mode = 2
theme_type_variation = &"DialogicSettingsSection"
text = "Auto-Advance"

[node name="HintTooltip" parent="VBoxContainer/HBoxContainer AutoAdvance" unique_id=234921651 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "Autoadvance is the concept of automatically progressing to the next event upon completing text display, usually after a certain delay.

You can enabled Auto-Advance from code using either:
- Dialogic.Inputs.auto_advance.enabled_until_user_input = true
- Dialogic.Inputs.auto_advance.enabled_until_next_event = true
- Dialogic.Inputs.auto_advance.enabled_forced = true
These add up, so if any of them is true, Auto-Advance will happen.
Unless manual advancement is disabled, the Auto-Advance time can always be skipped by the player.

The Auto-Advance will wait for Voice audio to finish playing. This behaviour can be disabled via code. "
texture = null
hint_text = "Autoadvance is the concept of automatically progressing to the next event upon completing text display, usually after a certain delay.

You can enabled Auto-Advance from code using either:
- Dialogic.Inputs.auto_advance.enabled_until_user_input = true
- Dialogic.Inputs.auto_advance.enabled_until_next_event = true
- Dialogic.Inputs.auto_advance.enabled_forced = true
These add up, so if any of them is true, Auto-Advance will happen.
Unless manual advancement is disabled, the Auto-Advance time can always be skipped by the player.

The Auto-Advance will wait for Voice audio to finish playing. This behaviour can be disabled via code. "

[node name="AutoadvanceSettings" type="GridContainer" parent="VBoxContainer" unique_id=615605144]
layout_mode = 2
columns = 2

[node name="HBox_BaseDelay2" type="HBoxContainer" parent="VBoxContainer/AutoadvanceSettings" unique_id=1794727706]
layout_mode = 2

[node name="Label" type="Label" parent="VBoxContainer/AutoadvanceSettings/HBox_BaseDelay2" unique_id=434916149]
layout_mode = 2
text = "Base Delay"

[node name="HintTooltip" parent="VBoxContainer/AutoadvanceSettings/HBox_BaseDelay2" unique_id=340872398 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "This is the base delay for autoadvancment."
texture = null
hint_text = "This is the base delay for autoadvancment."

[node name="FixedDelay" type="SpinBox" parent="VBoxContainer/AutoadvanceSettings" unique_id=514900439]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 2
step = 0.01
value = 1.0
suffix = "s"

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/AutoadvanceSettings" unique_id=935380451]
layout_mode = 2

[node name="Label2" type="Label" parent="VBoxContainer/AutoadvanceSettings/HBoxContainer" unique_id=1345770390]
layout_mode = 2
text = "Additional Delay"

[node name="HintTooltip2" parent="VBoxContainer/AutoadvanceSettings/HBoxContainer" unique_id=1364077218 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "An additional delay per character or word can be added.

Note: When changing values via code, you can actually use both modes simultaniously."
texture = null
hint_text = "An additional delay per character or word can be added.

Note: When changing values via code, you can actually use both modes simultaniously."

[node name="HBoxContainer2" type="HBoxContainer" parent="VBoxContainer/AutoadvanceSettings" unique_id=1799174633]
layout_mode = 2

[node name="AdditionalDelayMode" type="OptionButton" parent="VBoxContainer/AutoadvanceSettings/HBoxContainer2" unique_id=1836722743]
unique_name_in_owner = true
layout_mode = 2
selected = 0
fit_to_longest_item = false
item_count = 3
popup/item_0/text = "None"
popup/item_0/id = 0
popup/item_1/text = "Per Word"
popup/item_1/id = 1
popup/item_2/text = "Per Character"
popup/item_2/id = 2

[node name="AdditionalDelay" type="SpinBox" parent="VBoxContainer/AutoadvanceSettings/HBoxContainer2" unique_id=1335672427]
unique_name_in_owner = true
layout_mode = 2
step = 0.001

[node name="AutoadvanceIgnoreCharacters" type="HBoxContainer" parent="VBoxContainer/AutoadvanceSettings/HBoxContainer2" unique_id=1429768096]
unique_name_in_owner = true
layout_mode = 2

[node name="Label3" type="Label" parent="VBoxContainer/AutoadvanceSettings/HBoxContainer2/AutoadvanceIgnoreCharacters" unique_id=941442666]
layout_mode = 2
text = "Ignored Characters"

[node name="HintTooltip3" parent="VBoxContainer/AutoadvanceSettings/HBoxContainer2/AutoadvanceIgnoreCharacters" unique_id=490134271 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "An ignored character will add no delay, this is useful to exclude interpunction and whitespaces.

If disabled, the general line of text length will be used, stripping the BBCode tags first.
If enabled, the text will be scanned and the matching characters will be skipped."
texture = null
hint_text = "An ignored character will add no delay, this is useful to exclude interpunction and whitespaces.

If disabled, the general line of text length will be used, stripping the BBCode tags first.
If enabled, the text will be scanned and the matching characters will be skipped."

[node name="IgnoredCharactersEnabled" type="CheckBox" parent="VBoxContainer/AutoadvanceSettings/HBoxContainer2/AutoadvanceIgnoreCharacters" unique_id=1147108450]
unique_name_in_owner = true
layout_mode = 2

[node name="IgnoredCharacters" type="LineEdit" parent="VBoxContainer/AutoadvanceSettings/HBoxContainer2/AutoadvanceIgnoreCharacters" unique_id=664669825]
unique_name_in_owner = true
layout_mode = 2
text = "/\\\\,.( ); ?!-+\"'"
expand_to_text_length = true

[node name="HBox_BaseDelay" type="HBoxContainer" parent="VBoxContainer/AutoadvanceSettings" unique_id=1325625064]
layout_mode = 2

[node name="Label" type="Label" parent="VBoxContainer/AutoadvanceSettings/HBox_BaseDelay" unique_id=912753177]
layout_mode = 2
text = "Enabled at the start"

[node name="HintTooltip" parent="VBoxContainer/AutoadvanceSettings/HBox_BaseDelay" unique_id=908348065 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "While you would usually enable Auto-Advance via code,
if this is true it will be initially enabled.
This kind of Auto-Advance (system) only stops when disabled via code. "
texture = null
hint_text = "While you would usually enable Auto-Advance via code,
if this is true it will be initially enabled.
This kind of Auto-Advance (system) only stops when disabled via code. "

[node name="AutoAdvance" type="CheckBox" parent="VBoxContainer/AutoadvanceSettings" unique_id=718215262]
unique_name_in_owner = true
layout_mode = 2

[node name="HSeparator2" type="HSeparator" parent="VBoxContainer" unique_id=2060897753]
layout_mode = 2

[node name="HBoxContainer AutoSkip" type="HBoxContainer" parent="VBoxContainer" unique_id=823209218]
layout_mode = 2

[node name="Title" type="Label" parent="VBoxContainer/HBoxContainer AutoSkip" unique_id=1135344190]
layout_mode = 2
theme_type_variation = &"DialogicSettingsSection"
text = "Auto-Skip"

[node name="HintTooltip" parent="VBoxContainer/HBoxContainer AutoSkip" unique_id=1367074669 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "Auto-Skip is the concept of automatically skipping Timeline Events to the next unread Text Event or Event demanding user inputs (e.g. Choice, Wait Input, and Text Input).

You can enable Auto-Skip from code via:
Dialogic.Inputs.auto_skip.enabled = true

By default, Auto-Skip will cancel on user input.
You can disable this by calling:
Dialogic.Inputs.auto_skip.disable_on_user_input = false"
texture = null
hint_text = "Auto-Skip is the concept of automatically skipping Timeline Events to the next unread Text Event or Event demanding user inputs (e.g. Choice, Wait Input, and Text Input).

You can enable Auto-Skip from code via:
Dialogic.Inputs.auto_skip.enabled = true

By default, Auto-Skip will cancel on user input.
You can disable this by calling:
Dialogic.Inputs.auto_skip.disable_on_user_input = false"

[node name="AutoskipSettings" type="GridContainer" parent="VBoxContainer" unique_id=892086904]
layout_mode = 2
columns = 2

[node name="HBox_BaseDelay2" type="HBoxContainer" parent="VBoxContainer/AutoskipSettings" unique_id=413822222]
layout_mode = 2

[node name="Label" type="Label" parent="VBoxContainer/AutoskipSettings/HBox_BaseDelay2" unique_id=1666872663]
layout_mode = 2
text = "Time per Event"

[node name="HintTooltip" parent="VBoxContainer/AutoskipSettings/HBox_BaseDelay2" unique_id=658367467 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "The time until Auto-Skip will execute the next event.

If this is set to 0.1s, each event should finish within that time.
Custom events must respect this time, built-in events already handle Auto-Skip."
texture = null
hint_text = "The time until Auto-Skip will execute the next event.

If this is set to 0.1s, each event should finish within that time.
Custom events must respect this time, built-in events already handle Auto-Skip."

[node name="AutoskipTimePerEvent" type="SpinBox" parent="VBoxContainer/AutoskipSettings" unique_id=407754940]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 2
step = 0.01
value = 0.1
suffix = "s"

[node name="HSeparator3" type="HSeparator" parent="VBoxContainer" unique_id=788959098]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer" unique_id=1699709586]
layout_mode = 2

[node name="Title2" type="Label" parent="VBoxContainer/HBoxContainer" unique_id=1981532153]
layout_mode = 2
theme_type_variation = &"DialogicSettingsSection"
text = "Auto-Pauses"

[node name="HintTooltip" parent="VBoxContainer/HBoxContainer" unique_id=19562741 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "Adds pauses after certain letters.

Each set can contain multiple letters that will (individually)
have a pause of the given length added after them."
texture = null
hint_text = "Adds pauses after certain letters.

Each set can contain multiple letters that will (individually)
have a pause of the given length added after them."

[node name="Add" type="Button" parent="VBoxContainer/HBoxContainer" unique_id=981706302]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 4
text = "Add set"

[node name="AutoPauseSets" type="GridContainer" parent="VBoxContainer" unique_id=357695644]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
columns = 3

[node name="HBoxContainer3" type="HBoxContainer" parent="VBoxContainer" unique_id=509026138]
layout_mode = 2

[node name="Label5" type="Label" parent="VBoxContainer/HBoxContainer3" unique_id=1123471165]
layout_mode = 2
text = "Absolute auto-pause times"

[node name="HintTooltip7" parent="VBoxContainer/HBoxContainer3" unique_id=1940999025 instance=ExtResource("3_s7xhj")]
layout_mode = 2
tooltip_text = "If not enabled autopauses will be multiplied by the speed and user speed. When enabled those will be ignored."
texture = null
hint_text = "If not enabled autopauses will be multiplied by the speed and user speed. When enabled those will be ignored."

[node name="AutoPausesAbsolute" type="CheckBox" parent="VBoxContainer/HBoxContainer3" unique_id=1461798781]
unique_name_in_owner = true
layout_mode = 2

[connection signal="value_changed" from="VBoxContainer/VBox/InputAction" to="." method="_on_InputAction_value_changed"]
[connection signal="value_changed" from="VBoxContainer/VBox/Skippable/HBoxContainer3/AdvanceDelay" to="." method="_on_skippable_delay_value_changed"]
[connection signal="item_selected" from="VBoxContainer/VBox/HBoxContainer4/NewEventOption" to="." method="_on_new_event_option_item_selected"]
[connection signal="item_selected" from="VBoxContainer/AutoadvanceSettings/HBoxContainer2/AdditionalDelayMode" to="." method="_on_additional_delay_mode_item_selected"]
[connection signal="value_changed" from="VBoxContainer/AutoadvanceSettings/HBoxContainer2/AdditionalDelay" to="." method="_on_additional_delay_value_changed"]
[connection signal="text_changed" from="VBoxContainer/AutoadvanceSettings/HBoxContainer2/AutoadvanceIgnoreCharacters/IgnoredCharacters" to="." method="_on_IgnoredCharacters_text_changed"]
[connection signal="pressed" from="VBoxContainer/HBoxContainer/Add" to="." method="_on_add_autopauses_set_pressed"]
